TEST(ServerTest, WebSocketClientHandling) {
    Server server;
    EXPECT_NO_THROW({
        // Simulate WebSocket server start
        std::thread ws_thread(&Server::startWebSocketServer, &server, 9000);
        std::this_thread::sleep_for(std::chrono::seconds(1));  // Allow time for setup
        ws_thread.detach();
    });
}



TEST(ServerTest, BroadcastStats) {
    Server server;
    EXPECT_NO_THROW(server.broadcastStats(true));  // Run once
}