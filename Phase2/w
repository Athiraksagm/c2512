TEST(SystemStatsTest, BroadcastStatsSendsData) {
    std::string received_data;
    
    std::thread broadcastThread([]() {
        json stats;
        stats["boot_count"] = boot_count.load();
        stats["uptime"] = getMockedUptime();
        received_data = stats.dump();
    });

    broadcastThread.join();

    EXPECT_FALSE(received_data.empty());  // Ensure data is actually sent
}