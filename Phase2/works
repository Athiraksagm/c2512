
Date,Time,Boot Count,Uptime (seconds)
2025-2-9,20:17:35,2,13203
2025-2-9,20:17:42,3,13213
2025-2-9,20:17:50,4,13223
2025-2-9,20:18:8,6,13243
2025-2-9,20:23:23,37,13553




#include <iostream>
#include <httplib.h>
#include <json.hpp>
#include <thread>
#include <chrono>

using json = nlohmann::json;

void requestStats() {
    httplib::Client client("http://localhost:8080");

    while (true) {
        // Send GET request to the server
        auto res = client.Get("/stats");

        if (res && res->status == 200) {
            // Parse JSON response
            json stats = json::parse(res->body);

            std::cout << "Received stats:\n";
            std::cout << "Boot Count: " << stats["boot_count"] << "\n";
            std::cout << "Uptime: " << stats["uptime"] << " seconds\n";
        } else {
            std::cout << "Failed to get stats from server.\n";
        }

        // Wait for the next request (interval)
        std::this_thread::sleep_for(std::chrono::seconds(10)); // Adjust the interval as needed
    }
}

int main() {
    requestStats();
    return 0;
}
